<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title>IBGEA-QRQC</title>
    <link rel="stylesheet" href="css/mainIndicateurs.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script lang="javascript" src="js/indicateurs.js"></script>
  </head>
  <body>
    
    <div class="sidebar">
      <br>
        <div class="logo-details">
            <img src="img/1631345488529.jpeg" alt="Logo" style="width: 40px; height: 40px;">
            <br>
            <span class="logo_name">IBGEA-QRQC</span>
          </div>
          <br>
          <ul class="nav-links">
            <li>
              <a href="indicateurs.html">
                <i class='bx bx-box' ></i>
                <span class="links_name">Indicateurs-Actions</span>
              </a>
            </li>
            <li>
              <a href="foh.html">
                <i class='bx bx-list-ul' ></i>
                <span class="links_name">FOH</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-pie-chart-alt-2' ></i>
                <span class="links_name">Analytics</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-coin-stack' ></i>
                <span class="links_name">Stock</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-book-alt' ></i>
                <span class="links_name">Total order</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-user' ></i>
                <span class="links_name">Team</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-message' ></i>
                <span class="links_name">Messages</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-heart' ></i>
                <span class="links_name">Favrorites</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class='bx bx-cog' ></i>
                <span class="links_name">Setting</span>
              </a>
            </li>
            <li class="log_out">
              <a href="#">
                <i class='bx bx-log-out'></i>
                <span class="links_name">Log out</span>
              </a>
            </li>
          </ul>
    </div>

    <section class="home-section">
      <nav>
        <div class="sidebar-button">
          <i class='bx bx-menu sidebarBtn'></i>
          <span class="dashboard">Indicateurs-Actions</span>
        </div>
        <div class="search-box">
          <input type="text" placeholder="Search...">
          <i class='bx bx-search'></i>
        </div>
        <div class="profile-details">
          <img src="images/profile.jpg" alt="">
          <span class="admin_name">Oufadel Issam</span>
          <i class='bx bx-chevron-down'></i>
        </div>
      </nav>

      <br><br><br>
      <div class="table-container">
       <br>
        <!-- Button to open the modal -->
        <button class="btn btn-primary add-button" data-toggle="modal" data-target="#addModal">Ajouter</button>
        <br>

        <!-- Modal structure -->
        <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="addModalLabel">Ajouter Indicateur</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form id="indicateur-form">
                  <div class="form-group">
                    <label for="creation-date">N°:</label>
                    <input type="text" class="form-control" id="n" required>
                    <label for="creation-date">Création:</label>
                    <input type="date" class="form-control" id="creation-date" required>
                  </div>
                  <div class="form-group">
                    <label for="problem">Problème:</label>
                    <input type="text" class="form-control" id="problem" required>
                  </div>
                  <div class="form-group">
                    <label for="actions">Actions:</label>
                    <input type="text" class="form-control" id="actions" required>
                  </div>
                  <div class="form-group">
                    <label for="responsables">Responsables:</label>
                    <input type="text" class="form-control" id="responsables" required>
                  </div>
                  <div class="form-group">
                    <label for="end-date">Date fin:</label>
                    <input type="date" class="form-control" id="end-date" required>
                  </div>
                  <div class="form-group">
                    <label for="reschedule-date">Date replan:</label>
                    <input type="date" class="form-control" id="reschedule-date" required>
                  </div>
                  <div class="form-group">
                    <label for="closure-date">Date clôture:</label>
                    <input type="date" class="form-control" id="closure-date" required>
                  </div>
                  <div class="form-group">
                    <label for="status">Status:</label>
                    <select class="form-control" id="status" required>
                      <option value="En cours">En cours</option>
                      <option value="Terminé">Terminé</option>
                      <option value="À vérifier">À vérifier</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="capitalisation">Capitalisation:</label>
                    <input type="text" class="form-control" id="capitalisation" required>
                  </div>
                  <button type="submit" class="btn btn-success">Enregistrer</button>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal End -->

        <br><br>
        <table class="table">
          <thead>
            <tr>
              <th>N°</th>
              <th>Création</th>
              <th>Problème</th>
              <th>Actions</th>
              <th>Responsables</th>
              <th>Date fin</th>
              <th>Date replan</th>
              <th>Date clôture</th>
              <th>Status</th>
              <th>Capitalisation</th>
              <th>Actions</th> 
            </tr>
          </thead>
          <tbody>
            <!-- Sample data -->
            <tr>
              <td>1</td>
              <td>10/03/2025</td>
              <td>Problème de production</td>
              <td>Révision du processus</td>
              <td>oufadel issam</td>
              <td>20/03/2025</td>
              <td>25/03/2025</td>
              <td>30/03/2025</td>
              <td>En cours</td>
              <td>Documenté</td>
              <td>
                <button class="btn btn-info btn-sm" onclick="editRow(this)"><i class='bx bx-pencil'></i></button>
                <button class="btn btn-danger btn-sm" onclick="deleteRow(this)"><i class='bx bx-trash'></i></button>
              </td>
            </tr>
            <!-- other rows -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- JavaScript for Bootstrap Modal -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
      document.getElementById("indicateur-form").addEventListener("submit", function(event) {
        event.preventDefault();
        
        var newRow = document.createElement("tr");

        newRow.innerHTML = `
          <td></td>
          <td>${document.getElementById("creation-date").value}</td>
          <td>${document.getElementById("problem").value}</td>
          <td>${document.getElementById("actions").value}</td>
          <td>${document.getElementById("responsables").value}</td>
          <td>${document.getElementById("end-date").value}</td>
          <td>${document.getElementById("reschedule-date").value}</td>
          <td>${document.getElementById("closure-date").value}</td>
          <td>${document.getElementById("status").value}</td>
          <td>${document.getElementById("capitalisation").value}</td>
          <td>
            <button class="btn btn-info btn-sm" onclick="editRow(this)"><i class='bx bx-pencil'></i></button>
            <button class="btn btn-danger btn-sm" onclick="deleteRow(this)"><i class='bx bx-trash'></i></button>
          </td>
        `;
        
        document.querySelector("table tbody").appendChild(newRow);
        $('#addModal').modal('hide'); // Close the modal after submitting
      });

      function deleteRow(button) {
        var row = button.closest("tr");
        row.remove();
      }

      function editRow(button) {
        var row = button.closest("tr");
        // Edit functionality here
      }
    </script>
  <script>
    let sidebar = document.querySelector(".sidebar");
 let sidebarBtn = document.querySelector(".sidebarBtn");
 sidebarBtn.onclick = function() {
   sidebar.classList.toggle("active");
   if(sidebar.classList.contains("active")){
   sidebarBtn.classList.replace("bx-menu" ,"bx-menu-alt-right");
 }else
   sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
 }
  </script>
  </body>
</html>
